package com.wootech.oauthserver.controller;

import java.util.HashMap;
import java.util.Map;

import com.wootech.oauthserver.dto.OauthTokenResponse;

import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RestController;

import static org.springframework.http.MediaType.APPLICATION_FORM_URLENCODED_VALUE;

@RestController
public class GithubController {
    private static final String OAUTH_ID = "TEST1";
    private static final String EMAIL = "iu@email.com";
    private static final String NAME = "iu";
    private static final String IMAGE_URL = "data:image/jpeg;base64,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";
    private static final String GITHUB_URL = "https://github.com";

    @PostMapping(value = "/oauth/token", consumes = APPLICATION_FORM_URLENCODED_VALUE)
    public OauthTokenResponse fakeAccessToken() {
        return new OauthTokenResponse(
                "access-token",
                "email,name,image_url",
                "Bearer"
        );
    }

    @GetMapping(value = "/user")
    public Map<String, Object> fakeUserInfo() {
        Map<String, Object> attributes = new HashMap<>();
        attributes.put("id", OAUTH_ID);
        attributes.put("email", EMAIL);
        attributes.put("name", NAME);
        attributes.put("avatar_url", IMAGE_URL);
        attributes.put("html_url", GITHUB_URL);
        return attributes;
    }
}
